{
  "info": {
    "_postman_id": "missions-feature-collection",
    "name": "Missions Feature",
    "description": "Postman collection for Missions, Mission Registrations, and Surgical Missions endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Missions",
      "item": [
        {
          "name": "Create Mission (Doctor)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Free Medical Checkup Mission\",\n  \"description\": \"A free medical checkup mission for underserved communities. We will provide basic health screenings, blood pressure checks, and consultations.\",\n  \"doctor_id\": 9,\n  \"ngo_id\": 3,\n  \"location\": \"Community Health Center, 123 Main Street\",\n  \"start_datetime\": \"2025-12-15T09:00:00Z\",\n  \"end_datetime\": \"2025-12-15T17:00:00Z\",\n  \"registration_expiration\": \"2025-12-10T23:59:59Z\",\n  \"slots_available\": 50\n}"
            },
            "url": {
              "raw": "{{base_url}}/missions",
              "host": ["{{base_url}}"],
              "path": ["missions"]
            },
            "description": "Create a new mission. Requires doctor, NGO, or admin role."
          }
        },
        {
          "name": "Create Mission (NGO)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ngo-token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Vaccination Drive\",\n  \"description\": \"Free vaccination drive for children and adults.\",\n  \"ngo_id\": 3,\n  \"location\": \"City Park, Central Area\",\n  \"start_datetime\": \"2025-11-20T08:00:00Z\",\n  \"end_datetime\": \"2025-11-20T16:00:00Z\",\n  \"slots_available\": 100\n}"
            },
            "url": {
              "raw": "{{base_url}}/missions",
              "host": ["{{base_url}}"],
              "path": ["missions"]
            },
            "description": "Create a new mission by NGO."
          }
        },
        {
          "name": "List All Missions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/missions",
              "host": ["{{base_url}}"],
              "path": ["missions"]
            },
            "description": "Get all missions. Can filter by status, doctor_id, ngo_id, or my_missions=true"
          }
        },
        {
          "name": "List Missions (Filtered by Status)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/missions?status=upcoming&doctor_id=9",
              "host": ["{{base_url}}"],
              "path": ["missions"],
              "query": [
                {
                  "key": "status",
                  "value": "upcoming"
                },
                {
                  "key": "doctor_id",
                  "value": "9"
                }
              ]
            },
            "description": "Get missions filtered by status and doctor_id"
          }
        },
        {
          "name": "List My Missions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/missions?my_missions=true",
              "host": ["{{base_url}}"],
              "path": ["missions"],
              "query": [
                {
                  "key": "my_missions",
                  "value": "true"
                }
              ]
            },
            "description": "Get missions created by or associated with the authenticated user"
          }
        },
        {
          "name": "Get Mission by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/missions/:id",
              "host": ["{{base_url}}"],
              "path": ["missions", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Get a single mission by ID"
          }
        },
        {
          "name": "Update Mission",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Updated description with additional services.\",\n  \"slots_available\": 60\n}"
            },
            "url": {
              "raw": "{{base_url}}/missions/:id",
              "host": ["{{base_url}}"],
              "path": ["missions", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Update a mission. Only creator or admin can update."
          }
        },
        {
          "name": "Delete Mission",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/missions/:id",
              "host": ["{{base_url}}"],
              "path": ["missions", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Delete a mission. Only creator or admin can delete. Cannot delete if registrations exist."
          }
        }
      ],
      "description": "Endpoints for managing medical missions"
    },
    {
      "name": "Mission Registrations",
      "item": [
        {
          "name": "Register for Mission",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mission_id\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/mission-registrations",
              "host": ["{{base_url}}"],
              "path": ["mission-registrations"]
            },
            "description": "Register for a mission. Only patients can register. Automatically updates slots_filled."
          }
        },
        {
          "name": "List All Registrations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/mission-registrations",
              "host": ["{{base_url}}"],
              "path": ["mission-registrations"]
            },
            "description": "List registrations. Role-based: patients see their own, doctors/NGOs see their mission registrations, admins see all."
          }
        },
        {
          "name": "List Registrations (Filtered)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/mission-registrations?mission_id=1&attended=false",
              "host": ["{{base_url}}"],
              "path": ["mission-registrations"],
              "query": [
                {
                  "key": "mission_id",
                  "value": "1"
                },
                {
                  "key": "attended",
                  "value": "false"
                }
              ]
            },
            "description": "List registrations with filters: mission_id, patient_id, attended"
          }
        },
        {
          "name": "Get Registration by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/mission-registrations/:id",
              "host": ["{{base_url}}"],
              "path": ["mission-registrations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Get a single registration by ID"
          }
        },
        {
          "name": "Mark Attendance",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"attended\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/mission-registrations/:id/attendance",
              "host": ["{{base_url}}"],
              "path": ["mission-registrations", ":id", "attendance"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Mark attendance for a registration. Only admin, doctor, or NGO associated with the mission can mark attendance."
          }
        },
        {
          "name": "Cancel Registration",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/mission-registrations/:id",
              "host": ["{{base_url}}"],
              "path": ["mission-registrations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Cancel a registration. Automatically updates slots_filled. Users can cancel their own, admin/creator can cancel any."
          }
        }
      ],
      "description": "Endpoints for managing mission registrations"
    },
    {
      "name": "Surgical Missions",
      "item": [
        {
          "name": "Create Surgical Mission",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Free Cataract Surgery Mission\",\n  \"description\": \"Free cataract surgery for eligible patients. Pre-screening required.\",\n  \"doctor_id\": 9,\n  \"ngo_id\": 3,\n  \"location\": \"City Hospital, Surgical Wing\",\n  \"start_datetime\": \"2025-12-01T08:00:00Z\",\n  \"end_datetime\": \"2025-12-05T18:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/surgical-missions",
              "host": ["{{base_url}}"],
              "path": ["surgical-missions"]
            },
            "description": "Create a new surgical mission. Requires doctor, NGO, or admin role. No slots system."
          }
        },
        {
          "name": "List All Surgical Missions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/surgical-missions",
              "host": ["{{base_url}}"],
              "path": ["surgical-missions"]
            },
            "description": "Get all surgical missions. Can filter by status, doctor_id, ngo_id, or my_missions=true"
          }
        },
        {
          "name": "List Surgical Missions (Filtered)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/surgical-missions?status=upcoming&doctor_id=9",
              "host": ["{{base_url}}"],
              "path": ["surgical-missions"],
              "query": [
                {
                  "key": "status",
                  "value": "upcoming"
                },
                {
                  "key": "doctor_id",
                  "value": "9"
                }
              ]
            },
            "description": "Get surgical missions filtered by status and doctor_id"
          }
        },
        {
          "name": "Get Surgical Mission by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/surgical-missions/:id",
              "host": ["{{base_url}}"],
              "path": ["surgical-missions", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Get a single surgical mission by ID"
          }
        },
        {
          "name": "Update Surgical Mission",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Updated description with eligibility criteria.\",\n  \"status\": \"ongoing\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/surgical-missions/:id",
              "host": ["{{base_url}}"],
              "path": ["surgical-missions", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Update a surgical mission. Only creator or admin can update."
          }
        },
        {
          "name": "Delete Surgical Mission",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{doctor-token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/surgical-missions/:id",
              "host": ["{{base_url}}"],
              "path": ["surgical-missions", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Delete a surgical mission. Only creator or admin can delete."
          }
        }
      ],
      "description": "Endpoints for managing surgical missions"
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/healthpal",
      "type": "string"
    },
    {
      "key": "doctor-token",
      "value": "your_doctor_jwt_token_here",
      "type": "string"
    },
    {
      "key": "ngo-token",
      "value": "your_ngo_jwt_token_here",
      "type": "string"
    },
    {
      "key": "token",
      "value": "your_patient_jwt_token_here",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "your_admin_jwt_token_here",
      "type": "string"
    }
  ]
}
